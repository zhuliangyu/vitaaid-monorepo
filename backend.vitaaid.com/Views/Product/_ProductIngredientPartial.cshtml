@using WebDB.DBBO;
@model List<Ingredient>

@{
    var productIngredients = Html.DevExpress().GridView(settings =>
    {
        settings.Name = "productIngredientView";
        settings.KeyFieldName = "ID";
        settings.CallbackRouteValues = new { Controller = "Product", Action = "ProductIngredientPartial", ProductID = ViewData["ProductID"] };
        settings.SettingsEditing.UpdateRowRouteValues = new { Controller = "Product", Action = "ProductIngredientUpdatePartial", ProductID = ViewData["ProductID"] };
        settings.SettingsEditing.DeleteRowRouteValues = new { Controller = "Product", Action = "ProductIngreditntDeletePartial", ProductID = ViewData["ProductID"] };
        settings.SettingsEditing.Mode = GridViewEditingMode.Inline;
        settings.SettingsBehavior.ConfirmDelete = true;
        settings.Settings.VerticalScrollBarMode = ScrollBarMode.Visible;
        settings.Width = Unit.Percentage(100);

        settings.CommandColumn.Visible = true;
        settings.CommandColumn.Width = 80;
        settings.CommandColumn.ShowDeleteButton = true;
        settings.CommandColumn.ShowEditButton = true;
        settings.CommandColumn.SetHeaderCaptionTemplateContent(c =>
        {
            ViewContext.Writer.Write("<span></span>");
        });
        settings.SettingsCommandButton.EditButton.ButtonType = GridCommandButtonRenderMode.Image;
        settings.SettingsCommandButton.EditButton.Image.Url = "~/Content/Images/edit.svg";
        settings.SettingsCommandButton.EditButton.Image.Width = 16;
        settings.SettingsCommandButton.EditButton.Image.Height = 16;
        settings.SettingsCommandButton.DeleteButton.ButtonType = GridCommandButtonRenderMode.Image;
        settings.SettingsCommandButton.DeleteButton.Image.Url = "~/Content/Images/delete.svg";
        settings.SettingsCommandButton.DeleteButton.Image.Width = 16;
        settings.SettingsCommandButton.DeleteButton.Image.Height = 16;

        settings.SettingsCommandButton.UpdateButton.ButtonType = GridCommandButtonRenderMode.Image;
        settings.SettingsCommandButton.UpdateButton.Image.Url = "~/Content/Images/save.svg";
        settings.SettingsCommandButton.UpdateButton.Image.Width = 16;
        settings.SettingsCommandButton.UpdateButton.Image.Height = 16;

        settings.SettingsCommandButton.CancelButton.ButtonType = GridCommandButtonRenderMode.Image;
        settings.SettingsCommandButton.CancelButton.Image.Url = "~/Content/Images/Undo.svg";
        settings.SettingsCommandButton.CancelButton.Image.Width = 16;
        settings.SettingsCommandButton.CancelButton.Image.Height = 16;

        //settings.ControlStyle.CssClass = "product-image";
        settings.Styles.FocusedRow.CssClass = "focused";
        //settings.SettingsBehavior.AllowFocusedRow = true;
        //settings.SettingsBehavior.AllowSelectByRowClick = true;
        settings.SettingsBehavior.AllowDragDrop = false;

        settings.SettingsEditing.Mode = GridViewEditingMode.Inline;

        //settings.Columns.Add("ID");
        settings.Columns.Add(c =>
        {
            c.FieldName = "Sequence";
            c.Caption = "Seq.";
            c.Width = 40;
        });
        settings.Columns.Add("Name");
        settings.Columns.Add("LabelClaim");
        settings.Columns.Add("AdditionalInfo");
        settings.Columns.Add(c =>
        {
            c.FieldName = "GroupNo";
            c.Caption = "G#";
            c.Width = 30;
        });
    });
}

@productIngredients.Bind(Model).GetHtml()

