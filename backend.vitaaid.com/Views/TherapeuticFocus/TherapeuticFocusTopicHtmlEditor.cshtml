@using WebDB.DBBO;
@using backend.vitaaid.com.Controllers;
@using backend.vitaaid.com.Code;
@model TherapeuticFocus

@Html.DevExpress().HtmlEditor(settings =>
{
    settings.Name = "htmlData";    
    settings.CallbackRouteValues = new
    {
        Controller = "TherapeuticFocus",
        Action = "HtmlEditorPart",
        id = Model.ID,
        type = "Topic"
    };
    settings.CustomDataActionRouteValues = new
    {
        Controller = "TherapeuticFocus",
        Action = "HtmlEditorUpdatePart",
        product = Model,
        id = Model.ID,
        type = "Topic"
    };
    settings.Width = Unit.Percentage(100);

    settings.SettingsDialogs.InsertImageDialog.ShowMoreOptionsButton = true;
    var imageSelectorSettings = settings.SettingsDialogs.InsertImageDialog.SettingsImageSelector;
    HtmlEditorHelper.SetHtmlEditorImageSelectorSettings(imageSelectorSettings, "htmlData");
    imageSelectorSettings.Enabled = true;

    imageSelectorSettings.EditingSettings.AllowMove = true;
    imageSelectorSettings.EditingSettings.AllowDelete = true;
    imageSelectorSettings.EditingSettings.AllowRename = true;
    imageSelectorSettings.EditingSettings.AllowCreate = true;
    imageSelectorSettings.UploadSettings.Enabled = true;
    imageSelectorSettings.FoldersSettings.ShowLockedFolderIcons = true;
    imageSelectorSettings.FileListSettings.View = FileListView.Thumbnails;
    imageSelectorSettings.ToolbarSettings.Visible = true;
    imageSelectorSettings.FoldersSettings.Visible = true;
    imageSelectorSettings.BreadcrumbsSettings.Visible = true;

    HtmlEditorHelper.SetupGlobalUploadBehaviour(settings);

}).Bind(Model.Topic).GetHtml()
