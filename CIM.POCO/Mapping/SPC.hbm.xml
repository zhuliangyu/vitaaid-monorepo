<?xml version="1.0" encoding="utf-8"?>
<hibernate-mapping assembly="POCO" namespace="POCO" xmlns="urn:nhibernate-mapping-2.2">
  <class name="SPC" table="SPC" lazy="true" >
    <id name="ID" column="ID">
      <generator class="identity" />
    </id>

    <component name="Steps"  class="MySystem.Base.NSeqList`1[Step], MySystem.Base">
      <bag name="innerList"  table="StepSPC" lazy="true" order-by="Sequence" >
        <key column="SPCID"  not-null="true" />
        <many-to-many class="Step" column="StepID"/>
      </bag>
    </component>

    <property name="Sequence">
      <column name="Sequence" sql-type="int" not-null="true" />
    </property>
    <property name="MultiTimes">
      <column name="MultiTimes" sql-type="int" not-null="true" />
    </property>
    <property name="ValueMethod">
      <column name="ValueMethod" sql-type="int" not-null="true" />
    </property>

    <component name="SPCItems"  class="MySystem.Base.NSeqList`1[SPCItem], MySystem.Base">
      <bag name="innerList" cascade="all" lazy="true" order-by="Sequence" >
        <key column="SPCID" />
        <one-to-many class="SPCItem" />
      </bag>
    </component>

    <property name="Name" type ="TrimString">
      <column name="Name" sql-type="nvarchar" not-null="true" />
    </property>

  </class>
</hibernate-mapping>